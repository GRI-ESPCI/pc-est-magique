{% extends "base.html" %} {% import "_form.html" as wtf %} 
{% block scripts %} 

{{ super() }} 
<script src="{{url_for("static", filename="js/sort-table.js") }}" defer>
 </script>
<script src="{{url_for("static", filename="js/club_q/club_q.js") }}" defer>
</script>
{% endblock %}

{% block app_content %} {% include 'club_q/admin/common.html'
%}

<h4>{{ _("Salles : ")}}</h4>

<div class="row mb-3">
  <div class="col table-responsive">
    <table class="table table-striped table-hover table-bordered">
      <thead>
        <tr>
          <th scope="col" onclick="sort('id');">
            <span class="d-flex user-select-none">
              <span>{{ _("ID") }}</span>
              <span class="mx-auto">
                <svg class="bi flex-shrink-0" width="16" height="16" id="sort-svg-id">
                  <!-- Sort button inserted through JS -->
                </svg>
              </span>
            </span>
          </th>
          <th scope="col" onclick="sort('name');">
            <span class="d-flex user-select-none">
              <span>{{ _("Salle") }}</span>
              <span class="mx-auto">
                <svg class="bi flex-shrink-0" width="16" height="16" id="sort-svg-name">
                  <!-- Sort button inserted through JS -->
                </svg>
              </span>
            </span>
          </th>
          <th scope="col" onclick="sort('description');">
            <span class="d-flex user-select-none">
              <span>{{ _("Description") }}</span>
              <span class="mx-auto">
                <svg class="bi flex-shrink-0" width="16" height="16" id="sort-svg-description">
                  <!-- Sort button inserted through JS -->
                </svg>
              </span>
            </span>
          </th>
          <th scope="col" onclick="sort('site');">
            <span class="d-flex user-select-none">
              <span>{{ _("Site internet") }}</span>
              <span class="mx-auto">
                <svg class="bi flex-shrink-0" width="16" height="16" id="sort-svg-site">
                  <!-- Sort button inserted through JS -->
                </svg>
              </span>
            </span>
          </th>
          <th scope="col" onclick="sort('address');">
            <span class="d-flex user-select-none">
              <span>{{ _("Adresse") }}</span>
              <span class="mx-auto">
                <svg class="bi flex-shrink-0" width="16" height="16" id="sort-svg-address">
                  <!-- Sort button inserted through JS -->
                </svg>
              </span>
            </span>
          </th>
          <th scope="col" onclick="sort('latitude');">
            <span class="d-flex user-select-none">
              <span>{{ _("Latitude") }}</span>
              <span class="mx-auto">
                <svg class="bi flex-shrink-0" width="16" height="16" id="sort-svg-latitude">
                  <!-- Sort button inserted through JS -->
                </svg>
              </span>
            </span>
          </th>
          <th scope="col" onclick="sort('lontitude');">
            <span class="d-flex user-select-none">
              <span>{{ _("Latitude") }}</span>
              <span class="mx-auto">
                <svg class="bi flex-shrink-0" width="16" height="16" id="sort-svg-lontitude">
                  <!-- Sort button inserted through JS -->
                </svg>
              </span>
            </span>
          </th>
          <th scope="col">
            <span class="d-flex user-select-none">
              <span>
                <svg class="bi flex-shrink-0" width="22" height="22">{{ macros.bootstrap_icon("pen") }}</svg>
              </span>
            </span>
          </th>
        </tr>
      </thead>
      <tbody id="sort-table">
        {% for salle in salles %}
        <tr
          data-id="{{ str(salle.id).rjust(5, '0') }}"
          data-name="{{ salle.nom }}"
          data-description="{{ salle.description }}"
          data-site="{{ salle.url }}"
          data-address="{{ salle.adresse }}"
          data-latitude="{{ str(salle.latitude).rjust(6, '0') }}"
          data-longitude="{{ str(salle.longitude).rjust(6, '0') }}"
        >
          <td onclick="window.location='{{ url_for('club_q.salle', id=salle.id) }}';">{{ salle.id }}</td>
          <td onclick="window.location='{{ url_for('club_q.salle', id=salle.id) }}';">{{ salle.nom }}</td>
          <td>{{ salle.description }}</td>
          <td><a href="{{ salle.url }}">{{ salle.url }}</a></td>
          <td>{{ salle.adresse }}</td>
          <td>{{ salle.latitude }}</td>
          <td>{{ salle.longitude }}</td>
          <td>
            <button
              class="btn btn-outline-danger p-1 pt-0"
              data-bs-target="#mo-salle-edit"
              data-bs-toggle="modal"
              data-salle-id="{{ salle.id }}"
              data-salle-name="{{ salle.nom }}"
            >
              <svg class="bi flex-shrink-0" width="18" height="18">{{ macros.bootstrap_icon("pen") }}</svg>
            </button>
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>

{% endblock %}
