{% extends "base.html" %} {% import "_form.html" as wtf %} 


{% block scripts %} 

{{ super() }} 
<script src="{{url_for("static", filename="js/sort-table.js") }}" defer>
 </script>
<script src="{{url_for("static", filename="js/club_q/club_q.js") }}" defer>
</script>
{% endblock %} 


{% block app_content %}

<style>
  .overflow {
    width: 200px;
    text-overflow: ellipsis;
    overflow: hidden;
    white-space: nowrap;
  }

  td:hover .overflow {
    overflow: visible;
    white-space: normal;
  }
  .no_extra {
    margin: 0;
    padding: 0;
  }
  .log-box {
    max-height: 400px; /* Limite la hauteur à 300 pixels */
    overflow-y: auto; /* Ajoute une barre de défilement verticale si le contenu dépasse la hauteur maximale */
    border: 1px solid #000000;
    padding: 10px;
  }
  .centered {
  text-align: center; /* Center the content horizontally within the th element */
}

.centered-content {
  display: grid;
  place-items: center; /* Center the content both horizontally and vertically */
}
</style>

<div class="row mb-3">
  <div class="col">
    <h1>{{ title }}</h1>
  </div>
</div>

<div class="container mb-3">
  <div class="btn-toolbar justify-content-between" role="toolbar">
    <div class="d-flex align-items-center">
      <div class="btn-group" role="group" name="slt">
        <a
          role="button"
          href="{{ url_for('club_q.admin', view='active') }}"
          class="btn {{ 'btn-primary' if view == 'active' else 'btn-outline-primary' }}"
        >
          {{ _("PCéens") }}
        </a>
        <a
          role="button"
          href="{{ url_for('club_q.admin', view='spectacles') }}"
          class="btn {{ 'btn-primary' if view == 'spectacles' else 'btn-outline-primary' }}"
        >
          {{ _("Spectacles") }}
        </a>
        <a
          role="button"
          href="{{ url_for('club_q.admin', view='salles') }}"
          class="btn {{ 'btn-primary' if view == 'salles' else 'btn-outline-primary' }}"
        >
          {{ _("Salles") }}
        </a>
        <a
          role="button"
          href="{{ url_for('club_q.admin', view='voeux') }}"
          class="btn {{ 'btn-primary' if view == 'voeux' else 'btn-outline-primary' }}"
        >
          {{ _("Voeux") }}
        </a>
        <a
          role="button"
          href="{{ url_for('club_q.admin', view='saisons') }}"
          class="btn {{ 'btn-primary' if view == 'saisons' else 'btn-outline-primary' }}"
        >
          {{ _("Saisons") }}
        </a>
        <a
          role="button"
          href="{{ url_for('club_q.admin', view='attribution') }}"
          class="btn {{ 'btn-primary' if view == 'attribution' else 'btn-outline-primary' }}"
        >
          {{ _("Attribution") }}
        </a>
        <a
          role="button"
          href="{{ url_for('club_q.admin', view='mails') }}"
          class="btn {{ 'btn-primary' if view == 'mails' else 'btn-outline-primary' }}"
        >
          {{ _("Mails") }}
        </a>
        <a
          role="button"
          href="{{ url_for('club_q.admin', view='options') }}"
          class="btn {{ 'btn-primary' if view == 'options' else 'btn-outline-primary' }}"
        >
          {{ _("Paramètres") }}
        </a>
      </div>
    </div>
  </div>
</div>

{% if view == 'active' %}

<h4>{{ _("PCéens : ")}}</h4>

<div class="row mb-3">
  <div class="col table-responsive">
    <table class="table table-striped table-hover table-bordered">
      <thead>
        <tr>
          <th scope="col" onclick="sort('id');">
            <span class="d-flex user-select-none">
              <span>{{ _("ID") }}</span>
              <span class="mx-auto">
                <svg class="bi flex-shrink-0" width="16" height="16" id="sort-svg-id">
                  <!-- Sort button inserted through JS -->
                </svg>
              </span>
            </span>
          </th>
          <th scope="col" onclick="sort('name');">
            <span class="d-flex user-select-none">
              <span>{{ _("Nom") }}</span>
              <span class="mx-auto">
                <svg class="bi flex-shrink-0" width="16" height="16" id="sort-svg-name">
                  <!-- Sort button inserted through JS -->
                </svg>
              </span>
            </span>
          </th>
          <th scope="col" onclick="sort('promo');">
            <span class="d-flex user-select-none">
              <span>{{ _("Promo") }}</span>
              <span class="mx-auto">
                <svg class="bi flex-shrink-0" width="16" height="16" id="sort-svg-promo">
                  <!-- Sort button inserted through JS -->
                </svg>
              </span>
            </span>
          </th>
          <th scope="col" onclick="sort('asked');">
            <span class="d-flex user-select-none">
              <span>{{ _("Places demandées") }}</span>
              <span class="mx-auto">
                <svg class="bi flex-shrink-0" width="16" height="16" id="sort-svg-asked">
                  <!-- Sort button inserted through JS -->
                </svg>
              </span>
            </span>
          </th>
          <th scope="col" onclick="sort('given');">
            <span class="d-flex user-select-none">
              <span>{{ _("Places attribuées") }}</span>
              <span class="mx-auto">
                <svg class="bi flex-shrink-0" width="16" height="16" id="sort-svg-given">
                  <!-- Sort button inserted through JS -->
                </svg>
              </span>
            </span>
          </th>
          <th scope="col" onclick="sort('discontent');">
            <span class="d-flex user-select-none">
              <span>{{ _("Mécontentement") }}</span>
              <span class="mx-auto">
                <svg class="bi flex-shrink-0" width="16" height="16" id="sort-svg-discontent">
                  <!-- Sort button inserted through JS -->
                </svg>
              </span>
            </span>
          </th>
        </tr>
      </thead>

      <tbody id="sort-table">
        {% for pceen in pceens %}
        <tr
          onclick="window.location='{{ url_for('club_q.user', username=pceen.username) }}';"
          data-id="{{ str(pceen.id).rjust(5, '0') }}"
          data-name="{{ pceen.full_name }}"
          data-promo="{{ pceen.promo or 0 }}"
          data-asked="{{ str(pceen.sum_places_demandees).rjust(5, '0') }}"
          data-given="{{ str(pceen.sum_places_attribuees).rjust(5, '0') }}"
          data-discontent="{{ pceen.discontent or 0}}"
        >
          <td>{{ pceen.id }}</td>
          <td><p class="overflow no_extra">{{ pceen.full_name }}</p></td>
          <td>{{ pceen.promo }}</td>
          <td>{{ pceen.sum_places_demandees }}</td>
          <td>{{ pceen.sum_places_attribuees }}</td>
          <td>{{ pceen.discontent }}</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>

{% elif view == 'spectacles' %}

<h4>{{ _("Spectacles : ")}}</h4>

<div class="row mb-3">
  <div class="col table-responsive">
    <table class="table table-striped table-hover table-bordered">
      <thead>
        <tr>
          <th scope="col" onclick="sort('id');">
            <span class="d-flex user-select-none">
              <span>{{ _("ID") }}</span>
              <span class="mx-auto">
                <svg class="bi flex-shrink-0" width="16" height="16" id="sort-svg-id">
                  <!-- Sort button inserted through JS -->
                </svg>
              </span>
            </span>
          </th>
          <th scope="col" onclick="sort('name');">
            <span class="d-flex user-select-none">
              <span>{{ _("Spectacle") }}</span>
              <span class="mx-auto">
                <svg class="bi flex-shrink-0" width="16" height="16" id="sort-svg-name">
                  <!-- Sort button inserted through JS -->
                </svg>
              </span>
            </span>
          </th>
          <th scope="col" onclick="sort('salle');">
            <span class="d-flex user-select-none">
              <span>{{ _("Salle") }}</span>
              <span class="mx-auto">
                <svg class="bi flex-shrink-0" width="16" height="16" id="sort-svg-salle">
                  <!-- Sort button inserted through JS -->
                </svg>
              </span>
            </span>
          </th>
          <th scope="col" onclick="sort('category');">
            <span class="d-flex user-select-none">
              <span>{{ _("Catégorie") }}</span>
              <span class="mx-auto">
                <svg class="bi flex-shrink-0" width="16" height="16" id="sort-svg-category">
                  <!-- Sort button inserted through JS -->
                </svg>
              </span>
            </span>
          </th>
          <th scope="col" onclick="sort('date');">
            <span class="d-flex user-select-none">
              <span>{{ _("Date") }}</span>
              <span class="mx-auto">
                <svg class="bi flex-shrink-0" width="16" height="16" id="sort-svg-date">
                  <!-- Sort button inserted through JS -->
                </svg>
              </span>
            </span>
          </th>
          <th scope="col" onclick="sort('price');">
            <span class="d-flex user-select-none">
              <span>{{ _("Prix") }}</span>
              <span class="mx-auto">
                <svg class="bi flex-shrink-0" width="16" height="16" id="sort-svg-price">
                  <!-- Sort button inserted through JS -->
                </svg>
              </span>
            </span>
          </th>
          <th scope="col" onclick="sort('tickets');">
            <span class="d-flex user-select-none">
              <span>{{ _("Nbr.") }}</span>
              <span class="mx-auto">
                <svg class="bi flex-shrink-0" width="16" height="16" id="sort-svg-tickets">
                  <!-- Sort button inserted through JS -->
                </svg>
              </span>
            </span>
          </th>
          <th scope="col" onclick="sort('asked');">
            <span class="d-flex user-select-none">
              <span>{{ _("Dem.") }}</span>
              <span class="mx-auto">
                <svg class="bi flex-shrink-0" width="16" height="16" id="sort-svg-asked">
                  <!-- Sort button inserted through JS -->
                </svg>
              </span>
            </span>
          </th>
          <th scope="col" onclick="sort('given');">
            <span class="d-flex user-select-none">
              <span>{{ _("Att.") }}</span>
              <span class="mx-auto">
                <svg class="bi flex-shrink-0" width="16" height="16" id="sort-svg-given">
                  <!-- Sort button inserted through JS -->
                </svg>
              </span>
            </span>
          </th>
          <th scope="col" onclick="sort('rest');">
            <span class="d-flex user-select-none">
              <span>{{ _("Rst.") }}</span>
              <span class="mx-auto">
                <svg class="bi flex-shrink-0" width="16" height="16" id="sort-svg-rest">
                  <!-- Sort button inserted through JS -->
                </svg>
              </span>
            </span>
          </th>
          <th scope="col">
            <span class="d-flex user-select-none">
              <span>
                <svg class="bi flex-shrink-0" width="22" height="22">{{ macros.bootstrap_icon("pen") }}</svg>
              </span>
            </span>
          </th>
        </tr>
      </thead>
      <tbody id="sort-table">
        {% for spect in spectacles %} {% if spect._season_id == season_id %}
        <tr
          data-id="{{ str(spect.id).rjust(5, '0') }}"
          data-name="{{ spect.nom }}"
          data-salle="{{ spect.salle.nom }}"
          data-category="{{ spect.categorie }}"
          data-date="{{ spect.date }}"
          data-price="{{ str(spect.unit_price).rjust(5, '0') }}"
          data-tickets="{{ str(spect.nb_tickets).rjust(5, '0') }}"
          data-asked="{{ str(spect.sum_places_demandees).rjust(5, '0') }}"
          data-given="{{ str(spect.sum_places_attribuees).rjust(5, '0') }}"
          data-rest="{{ str(spect.nb_tickets - spect.sum_places_attribuees).rjust(5, '0') }}"
          >
          <td onclick="window.location='{{ url_for('club_q.spectacle', id=spect.id) }}';">{{ spect.id }}</td>
          <td onclick="window.location='{{ url_for('club_q.spectacle', id=spect.id) }}';">
            <p class="overflow no_extra">{{ spect.nom }}</p>
          </td>
          <td><p class="overflow no_extra">{{ spect.salle.nom }}</p></td>
          <td>{{ spect.categorie }}</td>
          <td>{{ moment(spect.date).format('DD/MM/YYYY HH:mm:ss') }}</td>
          <td>{{ babel.format_currency(spect.unit_price, "EUR") }}</td>
          <td>{{ spect.nb_tickets }}</td>
          <td>{{ spect.sum_places_demandees}}</td>
          <td>{{ spect.sum_places_attribuees}}</td>
          <td>{{ spect.nb_tickets - spect.sum_places_attribuees}}</td>
          <td>
            <button
              class="btn btn-outline-danger p-1 pt-0"
              data-bs-target="#mo-spect-edit"
              data-bs-toggle="modal"
              data-spect-id="{{ spect.id }}"
              data-spect-name="{{ spect.nom }}"
            >
              <svg class="bi flex-shrink-0" width="18" height="18">{{ macros.bootstrap_icon("pen") }}</svg>
            </button>
          </td>
        </tr>
        {% endif %}{% endfor %}
      </tbody>
    </table>
  </div>
</div>

{% elif view == 'salles' %}

<h4>{{ _("Salles : ")}}</h4>

<div class="row mb-3">
  <div class="col table-responsive">
    <table class="table table-striped table-hover table-bordered">
      <thead>
        <tr>
          <th scope="col" onclick="sort('id');">
            <span class="d-flex user-select-none">
              <span>{{ _("ID") }}</span>
              <span class="mx-auto">
                <svg class="bi flex-shrink-0" width="16" height="16" id="sort-svg-id">
                  <!-- Sort button inserted through JS -->
                </svg>
              </span>
            </span>
          </th>
          <th scope="col" onclick="sort('name');">
            <span class="d-flex user-select-none">
              <span>{{ _("Salle") }}</span>
              <span class="mx-auto">
                <svg class="bi flex-shrink-0" width="16" height="16" id="sort-svg-name">
                  <!-- Sort button inserted through JS -->
                </svg>
              </span>
            </span>
          </th>
          <th scope="col" onclick="sort('description');">
            <span class="d-flex user-select-none">
              <span>{{ _("Description") }}</span>
              <span class="mx-auto">
                <svg class="bi flex-shrink-0" width="16" height="16" id="sort-svg-description">
                  <!-- Sort button inserted through JS -->
                </svg>
              </span>
            </span>
          </th>
          <th scope="col" onclick="sort('site');">
            <span class="d-flex user-select-none">
              <span>{{ _("Site internet") }}</span>
              <span class="mx-auto">
                <svg class="bi flex-shrink-0" width="16" height="16" id="sort-svg-site">
                  <!-- Sort button inserted through JS -->
                </svg>
              </span>
            </span>
          </th>
          <th scope="col" onclick="sort('address');">
            <span class="d-flex user-select-none">
              <span>{{ _("Adresse") }}</span>
              <span class="mx-auto">
                <svg class="bi flex-shrink-0" width="16" height="16" id="sort-svg-address">
                  <!-- Sort button inserted through JS -->
                </svg>
              </span>
            </span>
          </th>
          <th scope="col" onclick="sort('latitude');">
            <span class="d-flex user-select-none">
              <span>{{ _("Latitude") }}</span>
              <span class="mx-auto">
                <svg class="bi flex-shrink-0" width="16" height="16" id="sort-svg-latitude">
                  <!-- Sort button inserted through JS -->
                </svg>
              </span>
            </span>
          </th>
          <th scope="col" onclick="sort('lontitude');">
            <span class="d-flex user-select-none">
              <span>{{ _("Latitude") }}</span>
              <span class="mx-auto">
                <svg class="bi flex-shrink-0" width="16" height="16" id="sort-svg-lontitude">
                  <!-- Sort button inserted through JS -->
                </svg>
              </span>
            </span>
          </th>
          <th scope="col">
            <span class="d-flex user-select-none">
              <span>
                <svg class="bi flex-shrink-0" width="22" height="22">{{ macros.bootstrap_icon("pen") }}</svg>
              </span>
            </span>
          </th>
        </tr>
      </thead>
      <tbody id="sort-table">
        {% for salle in salles %}
        <tr
          data-id="{{ str(salle.id).rjust(5, '0') }}"
          data-name="{{ salle.nom }}"
          data-description="{{ salle.description }}"
          data-site="{{ salle.url }}"
          data-address="{{ salle.adresse }}"
          data-latitude="{{ str(salle.latitude).rjust(6, '0') }}"
          data-longitude="{{ str(salle.longitude).rjust(6, '0') }}"

        >
          <td onclick="window.location='{{ url_for('club_q.salle', id=salle.id) }}';">{{ salle.id }}</td>
          <td onclick="window.location='{{ url_for('club_q.salle', id=salle.id) }}';">{{ salle.nom }}</td>
          <td>{{ salle.description }}</td>
          <td><a href="{{ salle.url }}">{{ salle.url }}</a></td>
          <td>{{ salle.adresse }}</td>
          <td>{{ salle.latitude }}</td>
          <td>{{ salle.longitude }}</td>
          <td>
            <button
              class="btn btn-outline-danger p-1 pt-0"
              data-bs-target="#mo-salle-edit"
              data-bs-toggle="modal"
              data-salle-id="{{ salle.id }}"
              data-salle-name="{{ salle.nom }}"
            >
              <svg class="bi flex-shrink-0" width="18" height="18">{{ macros.bootstrap_icon("pen") }}</svg>
            </button>
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>

{% elif view == 'voeux' %}

<h4>{{ _("Voeux : ")}}</h4>

<div class="row">
  <div class="col table-responsive">
    <table class="table table-striped table-hover table-bordered">
      <thead>
        <tr>
          <th scope="col" onclick="sort('id');">
            <span class="d-flex user-select-none">
              <span>{{ _("ID") }}</span>
              <span class="mx-auto">
                <svg class="bi flex-shrink-0" width="16" height="16" id="sort-svg-id">
                  <!-- Sort button inserted through JS -->
                </svg>
              </span>
            </span>
          </th>
          <th scope="col" onclick="sort('spect');">
            <span class="d-flex user-select-none">
              <span>{{ _("Spectacle") }}</span>
              <span class="mx-auto">
                <svg class="bi flex-shrink-0" width="16" height="16" id="sort-svg-spect">
                  <!-- Sort button inserted through JS -->
                </svg>
              </span>
            </span>
          </th>
          <th scope="col" onclick="sort('pceen');">
            <span class="d-flex user-select-none">
              <span>{{ _("PCéens") }}</span>
              <span class="mx-auto">
                <svg class="bi flex-shrink-0" width="16" height="16" id="sort-svg-pceen">
                  <!-- Sort button inserted through JS -->
                </svg>
              </span>
            </span>
          </th>
          <th scope="col" onclick="sort('priority');">
            <span class="d-flex user-select-none">
              <span>{{ _("Priorité") }}</span>
              <span class="mx-auto">
                <svg class="bi flex-shrink-0" width="16" height="16" id="sort-svg-priority">
                  <!-- Sort button inserted through JS -->
                </svg>
              </span>
            </span>
          </th>
          <th scope="col" onclick="sort('asked');">
            <span class="d-flex user-select-none">
              <span>{{ _("Demandées") }}</span>
              <span class="mx-auto">
                <svg class="bi flex-shrink-0" width="16" height="16" id="sort-svg-asked">
                  <!-- Sort button inserted through JS -->
                </svg>
              </span>
            </span>
          </th>
          <th scope="col" onclick="sort('min');">
            <span class="d-flex user-select-none">
              <span>{{ _("Minimum") }}</span>
              <span class="mx-auto">
                <svg class="bi flex-shrink-0" width="16" height="16" id="sort-svg-min">
                  <!-- Sort button inserted through JS -->
                </svg>
              </span>
            </span>
          </th>
          <th scope="col" onclick="sort('given');">
            <span class="d-flex user-select-none">
              <span>{{ _("Attribuées") }}</span>
              <span class="mx-auto">
                <svg class="bi flex-shrink-0" width="16" height="16" id="sort-svg-given">
                  <!-- Sort button inserted through JS -->
                </svg>
              </span>
            </span>
          </th>
          <th scope="col" onclick="sort('total');">
            <span class="d-flex user-select-none">
              <span>{{ _("Prix total") }}</span>
              <span class="mx-auto">
                <svg class="bi flex-shrink-0" width="16" height="16" id="sort-svg-total">
                  <!-- Sort button inserted through JS -->
                </svg>
              </span>
            </span>
          </th>
          <th class="centered" scope="col">
            <div class="centered-content">
              <span>
                <svg class="bi flex-shrink-0" width="22" height="22">{{ macros.bootstrap_icon("wrench") }}</svg>
              </span>
            </div>
          </th>          
        </tr>
      </thead>

      <tbody id="sort-table">
        {% for voeu in voeux %}
        <tr
          data-id="{{ str(voeu.id).rjust(5, '0') }}"
          data-spect="{{ voeu.spectacle.nom }}"
          data-pceen="{{ voeu.pceen.username }}"
          data-priority="{{ str(voeu.priorite).rjust(5, '0') }}"
          data-asked="{{ voeu.places_demandees }}"
          data-min="{{ voeu.places_minimum }}"
          data-given="{{ voeu.places_attribuees }}"
          data-total="{{ str(voeu.spectacle.unit_price * voeu.places_attribuees).rjust(5, '0') }}">
          <td>{{ voeu.id }}</td>
          <td>{{ voeu.spectacle.nom }}</td>
          <td>{{ voeu.pceen.username }}</td>
          <td>{{ voeu.priorite }}</td>
          <td>{{ voeu.places_demandees }}</td>
          <td>{{ voeu.places_minimum }}</td>
          <td>{{ voeu.places_attribuees }}</td>
          <td>{{ babel.format_currency(voeu.spectacle.unit_price * voeu.places_attribuees, "EUR") }}</td>
          <td>
            <button
              class="btn btn-outline-danger p-1 pt-0"
              data-bs-target="#mo-voeu-edit"
              data-bs-toggle="modal"
              data-voeu-id="{{ voeu.id }}"
              data-voeu-spectacle="{{ voeu.spectacle.nom }}"
              data-voeu-pceen="{{ voeu.pceen.full_name }}"
              data-voeu-priorite="{{ voeu.priorite }}"
              data-voeu-places-demandees="{{ voeu.places_demandees }}"
              data-voeu-places-minimum="{{ voeu.places_minimum }}"
              data-voeu-places-attribuees="{{ voeu.places_attribuees }}"
            >
              <svg class="bi flex-shrink-0" width="18" height="18">{{ macros.bootstrap_icon("pen") }}</svg>
            </button>
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>

{% elif view == 'saisons' %}

{% elif view == 'attribution' %}
<h4>{{ _("Algorithme d'attribution")}}</h4>
<div class="row">
  <div class="col-sm-4">
    <br />
    <form action="" method="post" role="form">
      {{ form_algo_setting.hidden_tag() }}
      <h5>{{ _("Bonus de mécontentement :")}}</h5>
      <p>{{ form_algo_setting.promo(size=3) }} {{ _("Promotion actuelle en 1A") }}</p>
      <p>{{ form_algo_setting.m1A(size=2) }} {{ _("Mécontentement 1A") }}</p>
      <p>{{ form_algo_setting.m2A(size=2) }} {{ _("Mécontentement 2A") }}</p>
      <p>{{ form_algo_setting.m3A(size=2) }} {{ _("Mécontentement 3A") }}</p>
      <p>{{ form_algo_setting.m4A(size=2) }} {{ _("Mécontentement 4A") }}</p>

      <h5>{{ _("Sauvegarder résultat algorithme ? :")}}</h5>
      <p>
        {{ form_algo_setting.save }} {{ _("Si coché, à la suite de l'exécution de l'algorithme, les résultats seront
        sauvegardés dans la base de données") }}
      </p>

      {{ form_algo_setting.submit(render_kw={"class": "btn btn-lg"}) }}
    </form>
  </div>

  <div class="col-sm-8">
    <body>
      <pre class="log-box">{{ log_algo }}</pre>
    </body>
  </div>
</div>
<div class="container text-center">
  <a class="btn btn-primary" href="{{ url_for("club_q.algorithm") }}"> {{_("Lancer l'algorithme") }} </a>
</div>

{% elif view == 'mails' %}

{% elif view == 'options' %}

<h4>{{ _("Paramètres : ")}}</h4>

<form action="" method="post" role="form">
  {{ form_setting.hidden_tag() }}
  <h5>{{ _("Visibilité de la page de voeux : ")}}</h5>
  <p>{{ form_setting.visibility }} {{ _("Page visible") }}</p>

  <h5>{{ _("Saison actuelle:")}}</h5>
  <p>{{ form_setting.saison }}</p>

  {{ form_setting.submit(render_kw={"class": "btn btn-lg"}) }}
</form>

{% endif %}




<!-- Voeu edit modal -->
<div class="modal fade" id="mo-voeu-edit" tabindex="-1" aria-labelledby="mo-voeu-edit" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
          <h5 class="modal-title" id="mo-voeu-edit">
            {{ _("Editer voeu") }} {{"{voeu_id}"}} - {{"{voeu_spectacle_nom}"}} - {{"{voeu_pceen_nom}"}}
          </h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="{{ _("Fermer") }}"></button>
      </div>
      <form action="" method="post" role="form">
        {{ form_edit_voeu.hidden_tag() }}
        {{ form_delete_voeu.hidden_tag() }}
        <div class="modal-body">
          <div class="row mb-3"><div class="col">
            <div class="form-floating">
                {{ wtf.form_field(form_edit_voeu.priorite) }}
            </div>
        </div></div>
        <div class="row mb-3"><div class="col">
          <div class="form-floating">
              {{ wtf.form_field(form_edit_voeu.places_demandees) }}
          </div>
      </div></div>
      <div class="row mb-3"><div class="col">
        <div class="form-floating">
            {{ wtf.form_field(form_edit_voeu.places_minimum) }}
        </div>
    </div></div>
    <div class="row mb-3"><div class="col">
      <div class="form-floating">
          {{ wtf.form_field(form_edit_voeu.places_attribuees) }}
      </div>
  </div></div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">{{ _("Annuler") }}</button>
          {{ form_delete_voeu.submit(class="btn btn-primary", style="background-color: #DC143C; border: 2px solid #8B0000;") }}
          {{ form_edit_voeu.submit(class="btn btn-primary") }}
        </div>
      </form>
  </div></div>
</div>



<!-- Icons templates -->
<div hidden>
  <div id="icon-template-down">{{ macros.bootstrap_icon("caret-down-fill") }}</div>
  <div id="icon-template-up">{{ macros.bootstrap_icon("caret-up-fill") }}</div>
</div>
{% endblock %}
